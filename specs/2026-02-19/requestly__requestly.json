{
  "schema_version": 3,
  "app": {
    "name": "Requestly",
    "one_liner": "A local-first API client and HTTP interceptor with testing, mocking, and collaboration features."
  },
  "screens": [
    {
      "name": "API Client Workspace",
      "purpose": "Primary interface for creating, editing, and running API requests with support for environments, collections, and scripting.",
      "primary_actions": [
        "Create new request",
        "Import from cURL or Postman",
        "Run request",
        "Switch workspace"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "run_request",
      "purpose": "Execute an API request with pre-request and post-response script support.",
      "async": true,
      "input": {
        "payload": "json"
      },
      "output": {
        "ok": "boolean",
        "result": "json"
      }
    },
    {
      "name": "save_item",
      "purpose": "Persist an API request or collection to local disk within the current workspace.",
      "async": true,
      "input": {
        "requests": "json"
      },
      "output": {
        "created": "int",
        "id": "string",
        "ok": "boolean"
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "requests",
        "columns": [
          {
            "name": "body",
            "type": "TEXT"
          },
          {
            "name": "headers",
            "type": "JSON"
          },
          {
            "name": "id",
            "type": "TEXT"
          },
          {
            "name": "method",
            "type": "TEXT"
          },
          {
            "name": "url",
            "type": "TEXT"
          },
          {
            "name": "workspace_id",
            "type": "TEXT"
          }
        ]
      },
      {
        "name": "workspaces",
        "columns": [
          {
            "name": "id",
            "type": "TEXT"
          },
          {
            "name": "name",
            "type": "TEXT"
          },
          {
            "name": "path",
            "type": "TEXT"
          },
          {
            "name": "sync_method",
            "type": "TEXT"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Add run button with simple fetch execution",
    "week 1: Build basic request editor with method, URL, headers, body",
    "week 1: Implement local workspace creation and file-based storage",
    "week 1: Support importing cURL commands into request fields"
  ],
  "acceptance_tests": [
    "rq.iterationData.get() correctly retrieves JSON data during Runner execution.",
    "User can paste a cURL command into the URL bar and have all request fields auto-populated.",
    "User can save a request to a local workspace directory and reopen it later.",
    "User can switch between multiple local workspaces without losing state."
  ]
}
