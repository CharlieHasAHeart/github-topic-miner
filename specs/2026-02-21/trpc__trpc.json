{
  "schema_version": 3,
  "app": {
    "name": "tRPC",
    "one_liner": "Move fast and break nothing with end-to-end typesafe APIs made easy."
  },
  "screens": [
    {
      "name": "API Definition & Consumption",
      "purpose": "Enable developers to define and call typesafe remote procedures seamlessly between client and server.",
      "primary_actions": [
        "Batch multiple requests automatically",
        "Call procedures from client with type safety",
        "Define server-side procedures"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "create_procedure",
      "purpose": "Define a new typesafe remote procedure endpoint on the server.",
      "async": true,
      "input": {
        "procedures": {
          "input_schema": "",
          "name": "",
          "output_type": ""
        }
      },
      "output": {
        "ok": true,
        "id": "",
        "created": 1
      }
    },
    {
      "name": "invoke_procedure",
      "purpose": "Call a remote procedure from the client with validated input and typed response.",
      "async": true,
      "input": {
        "request": {
          "input_schema": "",
          "name": "",
          "output_type": ""
        }
      },
      "output": {
        "ok": true,
        "message": "done"
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "procedures",
        "columns": [
          {
            "name": "input_schema",
            "type": "JSON"
          },
          {
            "name": "name",
            "type": "TEXT"
          },
          {
            "name": "output_type",
            "type": "JSON"
          }
        ]
      },
      {
        "name": "requests",
        "columns": [
          {
            "name": "batch_id",
            "type": "JSON"
          },
          {
            "name": "input_data",
            "type": "JSON"
          },
          {
            "name": "procedure_name",
            "type": "TEXT"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Enable automatic request batching",
    "week 1: Implement client-side procedure invocation with type inference",
    "week 1: Set up tRPC server with basic procedure definition"
  ],
  "acceptance_tests": [
    "Client can call a server procedure and receive a strongly typed response without runtime schema validation.",
    "FormData inputs are correctly serialized when used directly in procedure inputs.",
    "Multiple client requests made simultaneously are automatically batched into a single HTTP request.",
    "WebSocket-based subscriptions work with custom encoders as specified in connection parameters."
  ]
}
