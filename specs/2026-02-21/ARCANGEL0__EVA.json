{
  "schema_version": 3,
  "app": {
    "name": "EVA",
    "one_liner": "EVA is an AI-assisted penetration testing agent that guides users through complete pentest engagements with AI-powered attack strategy, autonomous command generation, and real-time vulnerability analysis."
  },
  "screens": [
    {
      "name": "EVA Pentest Shell",
      "purpose": "Primary interface for interacting with the AI pentesting agent, executing commands, and navigating sessions.",
      "primary_actions": [
        "Choose AI backend",
        "Create new session",
        "Define target",
        "Execute AI-suggested commands",
        "Select existing session",
        "View analysis and next steps"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "configure_eva",
      "purpose": "Open configuration interface to set EVA variables via --config flag.",
      "async": true,
      "input": {
        "command_id": "string",
        "command_text": "string",
        "executed_at": "string",
        "output": "string",
        "session_id": "string"
      },
      "output": {
        "message": "string",
        "ok": "boolean"
      }
    },
    {
      "name": "execute_command",
      "purpose": "Execute system or enumeration commands suggested by the AI during pentest workflow and capture output for analysis.",
      "async": true,
      "input": {
        "payload": "json"
      },
      "output": {
        "ok": "boolean",
        "result": "json"
      }
    },
    {
      "name": "generate_report",
      "purpose": "Generate HTML/PDF vulnerability assessment reports and attack surface maps from session data.",
      "async": true,
      "input": {
        "command_id": "string",
        "command_text": "string",
        "executed_at": "string",
        "output": "string",
        "session_id": "string"
      },
      "output": {
        "message": "string",
        "ok": "boolean"
      }
    },
    {
      "name": "search_vulnerabilities",
      "purpose": "Perform AI-assisted vulnerability or exploit searches using the --search CLI flag.",
      "async": true,
      "input": {
        "filters": "json",
        "limit": "int",
        "offset": "int"
      },
      "output": {
        "items": "json",
        "total": "int"
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "commands",
        "columns": [
          {
            "name": "command_id",
            "type": "TEXT"
          },
          {
            "name": "command_text",
            "type": "TEXT"
          },
          {
            "name": "executed_at",
            "type": "DATETIME"
          },
          {
            "name": "output",
            "type": "TEXT"
          },
          {
            "name": "session_id",
            "type": "TEXT"
          }
        ]
      },
      {
        "name": "sessions",
        "columns": [
          {
            "name": "ai_backend",
            "type": "TEXT"
          },
          {
            "name": "created_at",
            "type": "DATETIME"
          },
          {
            "name": "session_id",
            "type": "TEXT"
          },
          {
            "name": "target",
            "type": "TEXT"
          }
        ]
      },
      {
        "name": "vulnerabilities",
        "columns": [
          {
            "name": "description",
            "type": "TEXT"
          },
          {
            "name": "session_id",
            "type": "TEXT"
          },
          {
            "name": "severity",
            "type": "TEXT"
          },
          {
            "name": "vuln_id",
            "type": "TEXT"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Add report generation for HTML/PDF",
    "week 1: Build core command execution and output parsing",
    "week 1: Implement session management and AI backend selection",
    "week 1: Integrate basic vulnerability detection logic"
  ],
  "acceptance_tests": [
    "CLI flags like --search and --config function as described in v3.1 release.",
    "EVA suggests and executes reconnaissance commands, parses output correctly.",
    "User can choose Anthropic Claude as AI backend and define a target.",
    "User can launch EVA and select a new session.",
    "Vulnerability is identified and added to session; report is generated in HTML."
  ]
}
