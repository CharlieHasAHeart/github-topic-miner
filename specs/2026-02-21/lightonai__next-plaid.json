{
  "schema_version": 2,
  "meta": {
    "run_id": "20260221T133747Z",
    "generated_at": "2026-02-21T13:37:47.096Z",
    "source_repo": {
      "full_name": "lightonai/next-plaid",
      "url": "https://github.com/lightonai/next-plaid"
    },
    "topics": [
      "agentic-rag",
      "cli",
      "grep",
      "multi-vector",
      "vector-database"
    ]
  },
  "app": {
    "name": "ColGREP",
    "one_liner": "Semantic code search for your terminal and coding agents that combines regex filtering with semantic ranking, all running locally.",
    "inspired_by": null
  },
  "core_loop": "User runs `colgrep init` to index a project; subsequent searches automatically detect file changes, update the index, and return semantically ranked results filtered by regexâ€”all without external servers or APIs.",
  "screens": [
    {
      "id": "main",
      "name": "Main Terminal Interface",
      "purpose": "Allow users to perform semantic+regex code searches directly in the terminal after initializing a project index.",
      "primary_actions": [
        "Initialize project index with `colgrep init`",
        "Run semantic+regex search queries",
        "Automatically update index on file changes"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "init",
      "purpose": "Builds the initial semantic index for a specified project directory or current working directory.",
      "async": false,
      "input": {},
      "output": {}
    },
    {
      "name": "search",
      "purpose": "Performs combined regex and semantic search on indexed codebase, updating index if files changed.",
      "async": false,
      "input": {},
      "output": {}
    },
    {
      "name": "install_claude_code",
      "purpose": "Installs ColGREP integration for Claude Code plugin.",
      "async": false,
      "input": {},
      "output": {}
    },
    {
      "name": "install_opencode",
      "purpose": "Installs ColGREP integration for OpenCode plugin.",
      "async": false,
      "input": {},
      "output": {}
    },
    {
      "name": "install_codex",
      "purpose": "Installs ColGREP integration for Codex plugin.",
      "async": false,
      "input": {},
      "output": {}
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "indexed_files",
        "columns": [
          {
            "name": "file_path",
            "type": "string"
          },
          {
            "name": "content_hash",
            "type": "string"
          },
          {
            "name": "semantic_vector",
            "type": "vector"
          },
          {
            "name": "last_modified",
            "type": "timestamp"
          }
        ]
      },
      {
        "name": "project_index",
        "columns": [
          {
            "name": "project_root",
            "type": "string"
          },
          {
            "name": "index_version",
            "type": "string"
          },
          {
            "name": "created_at",
            "type": "timestamp"
          }
        ]
      }
    ]
  },
  "tauri_capabilities": [],
  "mvp_plan": [
    "week 1: Implement core indexing logic using ONNX-based semantic model",
    "week 1: Integrate regex preprocessing with BRE-to-ERE conversion",
    "week 1: Build file change detection and incremental reindexing",
    "week 1: Package as single Rust binary with no external dependencies"
  ],
  "acceptance_tests": [
    "ColGREP must successfully index a project on Apple Silicon macOS without crashing (exit code 101).",
    "ColGREP must handle files opened elsewhere without erroring out during indexing or search.",
    "Running `colgrep init` inside a hidden directory must correctly index all eligible files.",
    "Unbalanced group escapes in regex input must not produce invalid ERE during query processing."
  ],
  "open_questions": [
    "How to handle very large repositories with memory constraints?",
    "What fallback behavior is needed when semantic model fails on certain file types?",
    "Should indexing be parallelized, and how to manage concurrency safely?"
  ],
  "scores": {
    "closure": 3,
    "feasibility": 3,
    "stack_fit": 3,
    "complexity_control": 3,
    "debuggability": 3,
    "demo_value": 3
  },
  "overall_recommendation": "go",
  "citations": {
    "app": [
      "E-RD-001",
      "E-RD-004"
    ],
    "core_loop": [
      "E-RD-006",
      "E-RD-007"
    ],
    "screens": {
      "main": [
        "E-RD-003",
        "E-RD-004"
      ]
    },
    "commands": {
      "init": [
        "E-IS-003",
        "E-RD-006"
      ],
      "search": [
        "E-IS-004",
        "E-RD-004"
      ],
      "install_claude_code": [
        "E-RD-008"
      ],
      "install_opencode": [
        "E-RD-008"
      ],
      "install_codex": [
        "E-RD-008"
      ]
    },
    "tables": {
      "indexed_files": [
        "E-RD-001",
        "E-RD-007"
      ],
      "project_index": [
        "E-RD-001",
        "E-RD-007"
      ]
    },
    "acceptance_tests": {
      "0": [
        "E-IS-001"
      ],
      "1": [
        "E-IS-004"
      ],
      "2": [
        "E-IS-003"
      ],
      "3": [
        "E-IS-002"
      ]
    }
  }
}
