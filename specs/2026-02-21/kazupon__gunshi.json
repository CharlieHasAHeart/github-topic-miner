{
  "schema_version": 3,
  "app": {
    "name": "Gunshi",
    "one_liner": "Gunshi is a modern JavaScript command-line library for building declarative, type-safe, and composable CLI applications."
  },
  "screens": [
    {
      "name": "Command Runner",
      "purpose": "Execute configured CLI commands with parsed arguments and context.",
      "primary_actions": [
        "Parse command-line arguments",
        "Render output or errors",
        "Run command logic",
        "Validate inputs"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "run_command",
      "purpose": "Execute a declaratively defined CLI command with provided arguments and context.",
      "async": true,
      "input": {
        "payload": {
          "args": {},
          "description": "",
          "name": "",
          "run": ""
        }
      },
      "output": {
        "ok": true,
        "result": {}
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "commands",
        "columns": [
          {
            "name": "args",
            "type": "JSON"
          },
          {
            "name": "description",
            "type": "TEXT"
          },
          {
            "name": "name",
            "type": "TEXT"
          },
          {
            "name": "run",
            "type": "JSON"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Add support for sub-commands",
    "week 1: Build CLI runner interface",
    "week 1: Define core command structure",
    "week 1: Implement argument parsing with args-tokens"
  ],
  "acceptance_tests": [
    "CLI runs a simple greeting command with name, greeting, and repeat count arguments.",
    "Nested sub-commands are correctly parsed and executed."
  ]
}
