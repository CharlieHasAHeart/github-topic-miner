{
  "schema_version": 3,
  "app": {
    "name": "HH Applicant Tool",
    "one_liner": "A Python CLI tool for automating job application actions on HH.RU, including applying to suitable vacancies, updating resumes, generating cover letters with ChatGPT, and messaging employers."
  },
  "screens": [
    {
      "name": "Main Dashboard",
      "purpose": "Display current automation status, recent activity, and quick actions for managing job applications.",
      "primary_actions": [
        "Edit Cover Letter Templates",
        "Start/Stop Automation",
        "View Application History"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "apply_to_vacancies",
      "purpose": "Automatically apply to suitable vacancies using configured resume and generated cover letter.",
      "async": true,
      "input": {
        "content": "string",
        "template_id": "string"
      },
      "output": {
        "message": "string",
        "ok": "boolean"
      }
    },
    {
      "name": "send_employer_messages",
      "purpose": "Send pre-configured messages to employer chats after applying to increase visibility.",
      "async": true,
      "input": {
        "content": "string",
        "template_id": "string"
      },
      "output": {
        "message": "string",
        "ok": "boolean"
      }
    },
    {
      "name": "update_all_resumes",
      "purpose": "Refresh all user resumes on HH.RU to maintain visibility in search results.",
      "async": true,
      "input": {
        "changes": "json",
        "id": "string"
      },
      "output": {
        "ok": "boolean",
        "updated": "int"
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "cover_letters",
        "columns": [
          {
            "name": "content",
            "type": "TEXT"
          },
          {
            "name": "template_id",
            "type": "TEXT"
          }
        ]
      },
      {
        "name": "resumes",
        "columns": [
          {
            "name": "id",
            "type": "TEXT"
          },
          {
            "name": "last_updated",
            "type": "DATETIME"
          },
          {
            "name": "title",
            "type": "TEXT"
          }
        ]
      },
      {
        "name": "vacancies",
        "columns": [
          {
            "name": "applied_at",
            "type": "DATETIME"
          },
          {
            "name": "id",
            "type": "TEXT"
          },
          {
            "name": "title",
            "type": "TEXT"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Add resume update functionality",
    "week 1: Implement core vacancy scanning and application logic",
    "week 1: Integrate ChatGPT for cover letter generation",
    "week 2: Add configuration management",
    "week 2: Build basic CLI interface",
    "week 2: Implement employer messaging feature"
  ],
  "acceptance_tests": [
    "All user resumes are updated within the configured time window.",
    "Messages are sent to employer chats after application without errors.",
    "Tool successfully applies to a test vacancy with a generated cover letter."
  ]
}
