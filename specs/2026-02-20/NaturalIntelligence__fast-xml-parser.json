{
  "schema_version": 3,
  "app": {
    "name": "Fast XML Parser",
    "one_liner": "Validate XML, parse XML to JS objects, and build XML from JS objects rapidly without C/C++ dependencies or callbacks."
  },
  "screens": [
    {
      "name": "XML Processing Interface",
      "purpose": "Allow users to input XML or JS objects and select parsing or serialization actions.",
      "primary_actions": [
        "Build XML from JS Object",
        "Parse XML to JS Object",
        "Validate XML syntax"
      ]
    }
  ],
  "rust_commands": [
    {
      "name": "build_xml",
      "purpose": "Serialize a JavaScript object into an XML string.",
      "async": true,
      "input": {
        "request": {
          "allowed_tags": "",
          "max_entity_size": 0,
          "preserve_order": false
        }
      },
      "output": {
        "ok": true,
        "message": "done"
      }
    },
    {
      "name": "parse_xml",
      "purpose": "Convert XML string into a JavaScript object with configurable options.",
      "async": true,
      "input": {
        "request": {
          "allowed_tags": "",
          "max_entity_size": 0,
          "preserve_order": false
        }
      },
      "output": {
        "ok": true,
        "message": "done"
      }
    },
    {
      "name": "validate_xml",
      "purpose": "Check XML for syntactic validity using built-in validator.",
      "async": true,
      "input": {
        "request": {
          "allowed_tags": "",
          "max_entity_size": 0,
          "preserve_order": false
        }
      },
      "output": {
        "ok": true,
        "message": "done"
      }
    }
  ],
  "data_model": {
    "tables": [
      {
        "name": "xml_options",
        "columns": [
          {
            "name": "allowed_tags",
            "type": "JSON"
          },
          {
            "name": "max_entity_size",
            "type": "INTEGER"
          },
          {
            "name": "preserve_order",
            "type": "BOOLEAN"
          }
        ]
      }
    ]
  },
  "mvp_plan": [
    "week 1: Add basic validation functionality",
    "week 1: Expose configuration options for parser behavior",
    "week 1: Implement core XML parsing logic"
  ],
  "acceptance_tests": [
    "Entity processing respects maxEntitySize and other security limits",
    "Parser correctly handles unpaired tags like <br> without crashing",
    "Parsing large files (up to 100MB) completes within acceptable time",
    "TS build succeeds without duplicate exports of X2jOptions"
  ]
}
